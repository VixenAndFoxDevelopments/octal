@import bourbon

@font-face
  font-family: 'advocut'
  src: url('https://dl.dropboxusercontent.com/u/216723067/advocut/advocut-webfont.woff') format('woff'), /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */

$break-small: 400px
$scroll-arrow-url: "https://dl.dropboxusercontent.com/u/216723067/pixel-arrow.svg"
$mac-logo-url: "https://dl.dropboxusercontent.com/u/216723067/pixel-mac-logo.svg"
$scroll-width: 27px
$thebrightness: greenyellow

%margin
  margin: 0 2%

%scroll-arrow
  @include size(23px)
  background: url($scroll-arrow-url) center /16px no-repeat
  background-color: white
  border: 1px solid black
  content: ""
  float: left
  z-index: 3

body
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAH0lEQVQIW2NkYGD4D8SMQAwGMAZcEC4DU4ksANLxHwCC4QQE/R3QmAAAAABJRU5ErkJggg==) repeat
  font-family: 'advocut', Helvetica, sans-serif

.window
  @include display(flex)
  @include flex-direction(column)
  background-color: white
  border: 1px solid black
  box-shadow: 4px 4px 0 black
  height: 80vh
  margin: 5% auto
  min-height: em(350)
  overflow: hidden
  position: relative
  float: none
  width: 90vw
    
  @media screen and (min-width: $break-small)
    height: 75vh
    width: 60vw

  .folder
    @include flex(1)
    background: $thebrightness
    color: white
    font-size: 4rem
    overflow: hidden
      
  .appleii-colors
    @include display(flex)
    @include flex-direction(column)
    @include flex-grow(1)
    /*background: url($mac-logo-url) center /15vh no-repeat*/
    margin-bottom: $scroll-width
    
    img
      @include size(10vh)
      position: absolute
      bottom: 10%
      left: 10%
      
    @each $color, $hex in (green: #B9DE00, orange: #FFAD3C, burnt-orange: #F4581F, red: #9F1E17, eggplant: #862754, blue: #3D81DA)
      .appleii-color-#{$color}
        @include flex(1)
        background-color: #{$hex}
        margin-right: $scroll-width

  .window-grab
    @include size($scroll-width - 3px)
    background: url("https://dl.dropboxusercontent.com/u/216723067/pixel-grab.svg") center /16px no-repeat
    bottom: -26px
    position: absolute
    right: 0
    z-index: 1

  .bar
    @include align-items(center)
    @include display(flex)
    @include flex-direction(row)
    @include justify-content(center)
    border: 1px solid black
    cursor: move
    min-height: 30px
    position: relative
    text-align: center
    width: 100%

    &.title
      h1
        background: white
        border: 6px solid white
        z-index: 1

      &:before,
      &:after
        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAAG0lEQVQYV2NkIBIwAtX9J0YtSCFRgCSFw8ZqAGFpAwfpRLQ2AAAAAElFTkSuQmCC)
        content: ""
        height: 18px
        left: 0
        position: absolute
        right: 0
        top: 7px

    &.info
      border-bottom: 4px double black
      font-size: .75rem

      ul
        @extend %margin
        @include display(flex)
        @include justify-content(space-between)
        width: 100%

    .close
      @include size(14px)
      background: white
      border: 2px solid black
      left: 2%
      position: absolute
      top: 7px
      z-index: 1

    .maximize
      @include size(14px)
      background: white
      border: 2px solid black
      position: absolute
      position: absolute
      right: 2%
      top: 7px
      z-index: 2

      &:after
        @include size(8px)
        border: 2px solid black
        content: ""
        left: -2px
        position: absolute
        top: -2px

  .scroll
    background: white
    border: 1px solid black
    margin-top: 35px
    position: absolute

    &.bottom
      bottom: 0
      width: 100%

      &:before,
      &:after
        @extend %scroll-arrow
        transform: rotate(-90deg)

      &:after
        margin-right: $scroll-width
        position: absolute
        right: 0
        transform: rotate(90deg)

    &.right
      background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGklEQVQIW2NkYGD4D8SMQAwGcAY2AbBKDBUAVuYCBQPd34sAAAAASUVORK5CYII=) repeat
      bottom: 26px
      right: 0
      top: 31px

      &:before,
      &:after
        @extend %scroll-arrow

      &:after
        @include transform(rotateX(180deg))
        bottom: 0
        left: 0
        position: absolute
